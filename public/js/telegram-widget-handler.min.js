"use strict";function onTelegramAuth(e){var t,l,n,s;if(!e)return console.error("User data not found");let i=null,a=document.createElement("div"),r=document.createElement("div"),o=document.createElement("p"),y=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),p=document.createElement("p"),h=document.createElement("p"),u=document.createElement("input"),m=document.createElement("input"),f=document.createElement("button");a.style.position="fixed",a.style.height="100%",a.style.width="100%",a.style.backgroundColor="rgba(0,0,0,0.25)",a.style.zIndex="1000",a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="center",r.style.width="250px",r.style.background="white",r.style.display="flex",r.style.flexDirection="column",r.style.alignItems="center",r.style.justifyContent="center",r.style.rowGap="15px",r.style.padding="24px 32px",o.innerText="Выберите пол",o.style.fontFamily="Arial",o.style.fontWeight="600",o.style.fontSize="20px",y.style.display="flex",y.style.alignItems="center",y.style.justifyContent="center",y.style.columnGap="15px",c.style.display="flex",c.style.alignItems="center",c.style.justifyContent="center",c.style.columnGap="7px",d.style.display="flex",d.style.alignItems="center",d.style.justifyContent="center",d.style.columnGap="7px",p.innerText="Мужчина",p.style.fontFamily="Arial",p.style.fontWeight="500",h.innerText="Женщина",h.style.fontFamily="Arial",h.style.fontWeight="500",u.type="checkbox",u.onclick=()=>{m.checked=!1,u.checked=!0,i=1},m.type="checkbox",m.onclick=()=>{u.checked=!1,m.checked=!0,i=0},f.style.padding="6px 18px",f.style.textTransform="uppercase",f.style.justifyContent="center",f.style.cursor="pointer",f.style.alignItems="center",f.style.outline="none",f.style.fontSize="14px",f.style.fontWeight="500",f.style.fontFamily="Arial",f.style.borderRadius="10px",f.style.alignSelf="flex-end",f.style.border="none",f.style.backgroundColor="#4768b5",f.style.color="white",f.innerText="ок",r.appendChild(o),r.appendChild(y),r.appendChild(f),y.appendChild(c),y.appendChild(d),c.appendChild(u),c.appendChild(p),d.appendChild(m),d.appendChild(h),a.appendChild(r),document.body.appendChild(a),f.onclick=()=>{null!==i&&(a.remove(),fetch("/api/Account/AuthViaTelegram",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,firstName:null!==(t=e.first_name)&&void 0!==t?t:"",lastName:null!==(l=e.last_name)&&void 0!==l?l:"",userName:null!==(n=e.username)&&void 0!==n?n:"",photoUrl:null!==(s=e.photo_url)&&void 0!==s?s:"",authDate:e.auth_date,hash:e.hash,gender:i})}).then(function(e){return e.json()}).then(function(e){var t=e.accessToken,l=e.refreshToken;if(!(t&&l))return console.error("Response data error");localStorage.setItem("accessToken",t),localStorage.setItem("refreshToken",l),location.replace("/chat")}).catch(console.error))}}